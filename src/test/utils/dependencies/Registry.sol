import { IERC165 } from "forge-std/interfaces/IERC165.sol";

address constant REGISTRY_ADDR = 0xafa554B1edae842533A041C16BAf57F61fF909Ee;

// Struct that represents an attestation.
struct AttestationRecord {
    bytes32 schemaUID; // The unique identifier of the schema.
    address subject; // The recipient of the attestation i.e. module
    address attester; // The attester/sender of the attestation.
    uint48 time; // The time when the attestation was created (Unix timestamp).
    uint48 expirationTime; // The time when the attestation expires (Unix timestamp).
    uint48 revocationTime; // The time when the attestation was revoked (Unix timestamp).
    address dataPointer; // SSTORE2 pointer to the attestation data.
}

// Struct that represents Module artefact.
struct ModuleRecord {
    bytes32 resolverUID; // The unique identifier of the resolver.
    address implementation; // The deployed contract address
    address sender; // The address of the sender who deployed the contract
    bytes data; // Additional data related to the contract deployment
}

struct ResolverRecord {
    IResolver resolver; // Optional schema resolver.
    address schemaOwner; // The address of the account used to register the schema.
}

interface IResolver is IERC165 {
    /**
     * @dev Returns whether the resolver supports ETH transfers.
     */
    function isPayable() external pure returns (bool);

    /**
     * @dev Processes an attestation and verifies whether it's valid.
     *
     * @param attestation The new attestation.
     *
     * @return Whether the attestation is valid.
     */
    function attest(AttestationRecord calldata attestation) external payable returns (bool);

    /**
     * @dev Processes a Module Registration
     *
     * @param module Module registration artefact
     *
     * @return Whether the registration is valid
     */
    function moduleRegistration(ModuleRecord calldata module) external payable returns (bool);

    /**
     * @dev Processes multiple attestations and verifies whether they are valid.
     *
     * @param attestations The new attestations.
     * @param values Explicit ETH amounts which were sent with each attestation.
     *
     * @return Whether all the attestations are valid.
     */
    function multiAttest(
        AttestationRecord[] calldata attestations,
        uint256[] calldata values
    )
        external
        payable
        returns (bool);

    /**
     * @dev Processes an attestation revocation and verifies if it can be revoked.
     *
     * @param attestation The existing attestation to be revoked.
     *
     * @return Whether the attestation can be revoked.
     */
    function revoke(AttestationRecord calldata attestation) external payable returns (bool);

    /**
     * @dev Processes revocation of multiple attestation and verifies they can be revoked.
     *
     * @param attestations The existing attestations to be revoked.
     * @param values Explicit ETH amounts which were sent with each revocation.
     *
     * @return Whether the attestations can be revoked.
     */
    function multiRevoke(
        AttestationRecord[] calldata attestations,
        uint256[] calldata values
    )
        external
        payable
        returns (bool);
}

interface IRegistry {
    function deploy(
        bytes calldata code,
        bytes calldata deployParams,
        bytes32 salt,
        bytes calldata data,
        bytes32 resolverUID
    )
        external
        payable
        returns (address moduleAddr);

    function deployC3(
        bytes calldata code,
        bytes calldata deployParams,
        bytes32 salt,
        bytes calldata data,
        bytes32 resolverUID
    )
        external
        payable
        returns (address moduleAddr);

    function deployViaFactory(
        address factory,
        bytes calldata callOnFactory,
        bytes calldata data,
        bytes32 resolverUID
    )
        external
        payable
        returns (address moduleAddr);

    function registerResolver(IResolver _resolver) external returns (bytes32);

    function getResolver(bytes32 uid) external view returns (ResolverRecord memory);

    function getModule(address moduleAddress) external view returns (ModuleRecord memory);
}

abstract contract ResolverBase is IResolver {
    error InsufficientValue();
    error NotPayable();
    error InvalidRS();
    error AccessDenied();

    // The version of the contract.
    string public constant VERSION = "0.1";

    // The global Rhinestone Registry contract.
    address internal immutable _rs;

    /**
     * @dev Creates a new resolver.
     *
     * @param rs The address of the global RS contract.
     */
    constructor(address rs) {
        if (rs == address(0)) {
            revert InvalidRS();
        }
        _rs = rs;
    }

    /**
     * @dev Ensures that only the RS contract can make this call.
     */
    modifier onlyRS() {
        _onlyRSRegistry();
        _;
    }

    /**
     * @inheritdoc IResolver
     */
    function isPayable() public pure virtual returns (bool) {
        return false;
    }

    /**
     * @dev ETH callback.
     */
    receive() external payable virtual {
        if (!isPayable()) {
            revert NotPayable();
        }
    }

    /**
     * @inheritdoc IResolver
     */
    function attest(AttestationRecord calldata attestation)
        external
        payable
        onlyRS
        returns (bool)
    {
        return onAttest(attestation, msg.value);
    }

    /**
     * @inheritdoc IResolver
     */
    function moduleRegistration(ModuleRecord calldata module)
        external
        payable
        onlyRS
        returns (bool)
    {
        return onModuleRegistration(module, msg.value);
    }

    /**
     * @inheritdoc IResolver
     */

    function multiAttest(
        AttestationRecord[] calldata attestations,
        uint256[] calldata values
    )
        external
        payable
        onlyRS
        returns (bool)
    {
        uint256 length = attestations.length;

        // We are keeping track of the remaining ETH amount that can be sent to resolvers and will keep deducting
        // from it to verify that there isn't any attempt to send too much ETH to resolvers. Please note that unless
        // some ETH was stuck in the contract by accident (which shouldn't happen in normal conditions), it won't be
        // possible to send too much ETH anyway.
        uint256 remainingValue = msg.value;

        for (uint256 i; i < length; i++) {
            // Ensure that the attester/revoker doesn't try to spend more than available.
            uint256 value = values[i];
            if (value > remainingValue) {
                revert InsufficientValue();
            }

            // Forward the attestation to the underlying resolver and revert in case it isn't approved.
            if (!onAttest(attestations[i], value)) {
                return false;
            }

            unchecked {
                // Subtract the ETH amount, that was provided to this attestation, from the global remaining ETH amount.
                remainingValue -= value;
            }
        }

        return true;
    }

    /**
     * @inheritdoc IResolver
     */
    function revoke(AttestationRecord calldata attestation)
        external
        payable
        onlyRS
        returns (bool)
    {
        return onRevoke(attestation, msg.value);
    }

    /**
     * @inheritdoc IResolver
     */
    function multiRevoke(
        AttestationRecord[] calldata attestations,
        uint256[] calldata values
    )
        external
        payable
        onlyRS
        returns (bool)
    {
        uint256 length = attestations.length;

        // We are keeping track of the remaining ETH amount that can be sent to resolvers and will keep deducting
        // from it to verify that there isn't any attempt to send too much ETH to resolvers. Please note that unless
        // some ETH was stuck in the contract by accident (which shouldn't happen in normal conditions), it won't be
        // possible to send too much ETH anyway.
        uint256 remainingValue = msg.value;

        for (uint256 i; i < length; i++) {
            // Ensure that the attester/revoker doesn't try to spend more than available.
            uint256 value = values[i];
            if (value > remainingValue) {
                revert InsufficientValue();
            }

            // Forward the revocation to the underlying resolver and revert in case it isn't approved.
            if (!onRevoke(attestations[i], value)) {
                return false;
            }

            unchecked {
                // Subtract the ETH amount, that was provided to this attestation, from the global remaining ETH amount.
                remainingValue -= value;
            }
        }

        return true;
    }

    /**
     * @dev A resolver callback that should be implemented by child contracts.
     *
     * @param attestation The new attestation.
     * @param value An explicit ETH amount that was sent to the resolver. Please note that this value is verified in
     * both attest() and multiAttest() callbacks RS-only callbacks and that in case of multi attestations, it'll
     * usually hold that msg.value != value, since msg.value aggregated the sent ETH amounts for all the attestations
     * in the batch.
     *
     * @return Whether the attestation is valid.
     */
    function onAttest(
        AttestationRecord calldata attestation,
        uint256 value
    )
        internal
        virtual
        returns (bool);

    /**
     * @dev Processes an attestation revocation and verifies if it can be revoked.
     *
     * @param attestation The existing attestation to be revoked.
     * @param value An explicit ETH amount that was sent to the resolver. Please note that this value is verified in
     * both revoke() and multiRevoke() callbacks RS-only callbacks and that in case of multi attestations, it'll
     * usually hold that msg.value != value, since msg.value aggregated the sent ETH amounts for all the attestations
     * in the batch.
     *
     * @return Whether the attestation can be revoked.
     */
    function onRevoke(
        AttestationRecord calldata attestation,
        uint256 value
    )
        internal
        virtual
        returns (bool);

    function onModuleRegistration(
        ModuleRecord calldata module,
        uint256 value
    )
        internal
        virtual
        returns (bool);

    /**
     * @dev Ensures that only the RS contract can make this call.
     */
    function _onlyRSRegistry() private view {
        if (msg.sender != _rs) {
            revert AccessDenied();
        }
    }

    function supportsInterface(bytes4 interfaceID) external pure returns (bool) {
        return interfaceID == this.supportsInterface.selector
            || interfaceID == this.isPayable.selector || interfaceID == this.attest.selector
            || interfaceID == this.moduleRegistration.selector
            || interfaceID == this.multiAttest.selector || interfaceID == this.revoke.selector
            || interfaceID == this.multiRevoke.selector;
    }
}

contract DebugResolver is ResolverBase {
    constructor(address rs) ResolverBase(rs) { }

    function onAttest(
        AttestationRecord calldata attestation,
        uint256 /*value*/
    )
        internal
        view
        override
        returns (bool)
    {
        return true;
    }

    function onRevoke(
        AttestationRecord calldata, /*attestation*/
        uint256 /*value*/
    )
        internal
        pure
        override
        returns (bool)
    {
        return true;
    }

    function onModuleRegistration(
        ModuleRecord calldata module,
        uint256 value
    )
        internal
        override
        returns (bool)
    {
        return true;
    }
}

// @note: this code needs to be deployed using create or create2
bytes constant RegistryCode =
    hex"61016060405260016006553480156200001757600080fd5b506040516200543f3803806200543f8339810160408190526200003a9162000266565b81818181818181816200004f82600262000114565b610120526200006081600362000114565b61014052815160208084019190912060e052815190820120610100524660a052620000ee60e05161010051604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201529081019290925260608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60805250503060c05260046200010583826200035f565b50505050505050505062000485565b600060208351101562000134576200012c836200014d565b905062000147565b816200014184826200035f565b5060ff90505b92915050565b600080829050601f8151111562000184578260405163305a27a960e01b81526004016200017b91906200042b565b60405180910390fd5b8051620001918262000460565b179392505050565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620001cc578181015183820152602001620001b2565b50506000910152565b600082601f830112620001e757600080fd5b81516001600160401b038082111562000204576200020462000199565b604051601f8301601f19908116603f011681019082821181831017156200022f576200022f62000199565b816040528381528660208588010111156200024957600080fd5b6200025c846020830160208901620001af565b9695505050505050565b600080604083850312156200027a57600080fd5b82516001600160401b03808211156200029257600080fd5b620002a086838701620001d5565b93506020850151915080821115620002b757600080fd5b50620002c685828601620001d5565b9150509250929050565b600181811c90821680620002e557607f821691505b6020821081036200030657634e487b7160e01b600052602260045260246000fd5b50919050565b601f8211156200035a57600081815260208120601f850160051c81016020861015620003355750805b601f850160051c820191505b81811015620003565782815560010162000341565b5050505b505050565b81516001600160401b038111156200037b576200037b62000199565b62000393816200038c8454620002d0565b846200030c565b602080601f831160018114620003cb5760008415620003b25750858301515b600019600386901b1c1916600185901b17855562000356565b600085815260208120601f198616915b82811015620003fc57888601518255948401946001909101908401620003db565b50858210156200041b5787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60208152600082518060208401526200044c816040850160208701620001af565b601f01601f19169190910160400192915050565b80516020808301519190811015620003065760001960209190910360031b1b16919050565b60805160a05160c05160e051610100516101205161014051614f5f620004e06000396000611318015260006112ed015260006136d0015260006136a8015260006136030152600061362d015260006136570152614f5f6000f3fe6080604052600436106101e35760003560e01c806398d986e011610102578063bdb7181611610095578063e77f3dfd11610064578063e77f3dfd1461059a578063ea6ec3de146105ba578063ed24911d14610601578063feabe2901461061657600080fd5b8063bdb7181614610527578063cd08fd8e1461053a578063d90486241461055a578063dcfb43a21461058757600080fd5b8063b1285c8e116100d1578063b1285c8e14610494578063b3154db0146104a7578063b5de8d4c146104c7578063b83010d3146104f457600080fd5b806398d986e0146104215780639f3e1b5314610434578063a2ea7c6e14610454578063aec5e0f01461048157600080fd5b80633b32a1c21161017a578063622f913c11610149578063622f913c146103c05780636a6fb3df146103d357806384b0196e146103e657806386069fd21461040e57600080fd5b80633b32a1c2146103355780633b9d6cde146103485780634315f99a1461037357806361e559791461039357600080fd5b80631d4d9810116101b65780631d4d9810146102925780632b30c899146102b25780632d0335ab146102df57806333ba518a1461031557600080fd5b80630cd67b4e146101e857806312b11a171461021b57806317d7de7c1461024e5780631896f70a14610270575b600080fd5b3480156101f457600080fd5b50610208610203366004613e24565b610629565b6040519081526020015b60405180910390f35b34801561022757600080fd5b507fedcf357a2a19e382180b2eae2b58c407a5ac708d128bdc90fc30c3ba00539145610208565b34801561025a57600080fd5b5061026361066e565b6040516102129190613eb5565b34801561027c57600080fd5b5061029061028b366004613ec8565b610700565b005b34801561029e57600080fd5b506102086102ad366004613f40565b610770565b3480156102be57600080fd5b506102d26102cd366004613fae565b6108bd565b604051610212919061410b565b3480156102eb57600080fd5b506102086102fa36600461411e565b6001600160a01b031660009081526005602052604090205490565b34801561032157600080fd5b50610208610330366004614235565b61097a565b6102906103433660046142c6565b61098f565b61035b610356366004614307565b610cbd565b6040516001600160a01b039091168152602001610212565b34801561037f57600080fd5b5061029061038e3660046143b1565b610df7565b34801561039f57600080fd5b506103b36103ae36600461440c565b610eb5565b6040516102129190614497565b6102906103ce3660046142c6565b61105d565b61035b6103e13660046144aa565b61112c565b3480156103f257600080fd5b506103fb6112df565b6040516102129796959493929190614534565b61029061041c3660046142c6565b611368565b61029061042f366004614596565b6115f4565b34801561044057600080fd5b5061020861044f36600461411e565b6117b8565b34801561046057600080fd5b5061047461046f3660046145d0565b6118bd565b60405161021291906145e9565b61029061048f3660046142c6565b6118e8565b6102906104a2366004614628565b611ad0565b3480156104b357600080fd5b506102086104c2366004614662565b611be3565b3480156104d357600080fd5b506104e76104e236600461411e565b611c9c565b6040516102129190614690565b34801561050057600080fd5b507f9773e49bbc47d491fae893cc858ed75be262b2466e1ffcadbf03b047493f1951610208565b6102906105353660046146ef565b611d99565b34801561054657600080fd5b506103b361055536600461440c565b611e6e565b34801561056657600080fd5b5061057a610575366004614662565b611fd8565b6040516102129190614723565b61035b610595366004614307565b612065565b3480156105a657600080fd5b506102086105b5366004614731565b6121bc565b3480156105c657600080fd5b506105da6105d53660046145d0565b6121ef565b6040805182516001600160a01b039081168252602093840151169281019290925201610212565b34801561060d57600080fd5b50610208612247565b610290610624366004614780565b612256565b6001600160a01b038116600090815260056020526040812054819061064f9060016147b2565b90506106658486600001518760200151846123f1565b95945050505050565b60606004805461067d906147c5565b80601f01602080910402602001604051908101604052809291908181526020018280546106a9906147c5565b80156106f65780601f106106cb576101008083540402835291602001916106f6565b820191906000526020600020905b8154815290600101906020018083116106d957829003601f168201915b5050505050905090565b8161070a8161246e565b60008381526001602090815260409182902080546001600160a01b0319166001600160a01b038616908117825592519283529185917f8804a99908baee62844723e819277da0b84919147369b40055c696dcd60bea3b910160405180910390a250505050565b60008060405180606001604052806107854290565b65ffffffffffff168152602001846001600160a01b0316815260200186868080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920182905250939094525092935091506107e89050826124ac565b60008181526020819052604090205490915065ffffffffffff16156108205760405163119b4fd360e11b815260040160405180910390fd5b6000818152602081815260409182902084518154928601516001600160a01b0316600160301b026001600160d01b031990931665ffffffffffff9091161791909117815590830151839190600182019061087a9082614847565b50506040513381528291507fd16733fb8c2a502f4e1d1d63970cbab355e37ff6d6d12a215b7d0197ea5535f49060200160405180910390a29150505b9392505050565b8051606090806001600160401b038111156108da576108da613d26565b60405190808252806020026020018201604052801561091357816020015b610900613cea565b8152602001906001900390816108f85790505b50915060005b81811015610972576109448585838151811061093757610937614906565b6020026020010151611fd8565b83828151811061095657610956614906565b602002602001018190525061096b8160010190565b9050610919565b505092915050565b60006109878484846124e6565b949350505050565b6006546001146109ba5760405162461bcd60e51b81526004016109b19061491c565b60405180910390fd5b600260065580346000610a2c858483816109d6576109d6614906565b90506020028101906109e89190614940565b6109f6906020810190614960565b6000818110610a0757610a07614906565b9050602002810190610a199190614940565b610a2790602081019061411e565b61256d565b604080516080810182528254815260018301546001600160a01b03908116602083015260028401541691810191909152600382018054919291606084019190610a74906147c5565b80601f0160208091040260200160405190810160405280929190818152602001828054610aa0906147c5565b8015610aed5780601f10610ac257610100808354040283529160200191610aed565b820191906000526020600020905b815481529060010190602001808311610ad057829003601f168201915b505050505081525050905060005b83811015610cb0576000198401811436878784818110610b1d57610b1d614906565b9050602002810190610b2f9190614940565b9050366000610b416020840184614960565b909250905080801580610b625750610b5c6040850185614960565b90508114155b15610b805760405163251f56a160e21b815260040160405180910390fd5b60005b81811015610c6557610c5d604051806080016040528087600001358152602001868685818110610bb557610bb5614906565b9050602002810190610bc79190614940565b610bd0906149a9565b8152602001610be56080890160608a0161411e565b6001600160a01b03168152602001610c006040890189614960565b85818110610c1057610c10614906565b9050602002810190610c2291906149b5565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250505091525061258a565b600101610b83565b508651600090610c8b908635908686610c8460808b0160608c0161411e565b8e8c61260f565b9050610c97818a6149fb565b9850505050505050610ca98160010190565b9050610afb565b5050600160065550505050565b6000600654600114610ce15760405162461bcd60e51b81526004016109b19061491c565b60026006556000610cf1836121ef565b60208101519091506001600160a01b0316610d1f57604051631b68fd9560e21b815260040160405180910390fd5b60008a8a8a8a604051602001610d389493929190614a0e565b60408051601f19818403018152828252602083018a90526001600160601b03193360601b16918301919091529150600090605401604051602081830303815290604052805190602001209050610d8f818334612832565b9350610d9f843385888b8b6128ac565b80846001600160a01b03167f15a8d94fb634b80d8d430ee02530a43e6317511bed9a6e18b2414bb89a0bd0df87604051610ddb91815260200190565b60405180910390a3505060016006555098975050505050505050565b600654600114610e195760405162461bcd60e51b81526004016109b19061491c565b60026006556000610e29856121ef565b60208101519091506001600160a01b0316610e5757604051631b68fd9560e21b815260040160405180910390fd5b610e66846000838887876128ac565b836001600160a01b03167fc4efda57f1532d5ff464fda58afd4994b2ce0b7401b8e04de1d3a89de93eaeb786604051610ea191815260200190565b60405180910390a250506001600655505050565b60608282811080610ec4575082155b15610ecd578092505b42816001600160401b03811115610ee657610ee6613d26565b604051908082528060200260200182016040528015610f0f578160200160208202803683370190505b50925060005b82811015611034576000610f4f89898985818110610f3557610f35614906565b9050602002016020810190610f4a919061411e565b612a06565b600381015490915065ffffffffffff1615610f8e5760028101546040516310f3287f60e31b81526001600160a01b0390911660048201526024016109b1565b6002810154600160d01b900465ffffffffffff168015801590610fb057508381105b15610fce5760405163120a2e7760e01b815260040160405180910390fd5b60028201548651600160a01b90910465ffffffffffff16908190889086908110610ffa57610ffa614906565b602002602001018181525050806000036110165750505061102c565b87156110285761102588614a30565b97505b5050505b600101610f15565b5083600003611044575050610987565b6040516339093e6560e21b815260040160405180910390fd5b60065460011461107f5760405162461bcd60e51b81526004016109b19061491c565b6002600655803460006110ad8584838161109b5761109b614906565b90506020028101906109e89190614a47565b905060005b83811015610cb05760001984018114368787848181106110d4576110d4614906565b90506020028101906110e69190614a47565b845490915060009061110a908335906111026020860186614960565b338b8961260f565b905061111681876149fb565b95505050506111258160010190565b90506110b2565b60006006546001146111505760405162461bcd60e51b81526004016109b19061491c565b60026006556000611160836121ef565b60208101519091506001600160a01b031661118e57604051631b68fd9560e21b815260040160405180910390fd5b600080896001600160a01b0316348a8a6040516111ac929190614a5d565b60006040518083038185875af1925050503d80600081146111e9576040519150601f19603f3d011682016040523d82523d6000602084013e6111ee565b606091505b50915091508161121157604051637483e90760e01b815260040160405180910390fd5b808060200190518101906112259190614a6d565b93506001600160a01b03841661124e57604051637483e90760e01b815260040160405180910390fd5b6001843b15151461127257604051637483e90760e01b815260040160405180910390fd5b611280843385888b8b6128ac565b896001600160a01b0316846001600160a01b03167fa4552dd058e341e923d0efb3545d8418df32228db939d3246ec9aafe2e3b8353876040516112c591815260200190565b60405180910390a350506001600655509695505050505050565b6000606080828080836113137f00000000000000000000000000000000000000000000000000000000000000006002612a30565b61133e7f00000000000000000000000000000000000000000000000000000000000000006003612a30565b60408051600080825260208201909252600f60f81b9b939a50919850469750309650945092509050565b60065460011461138a5760405162461bcd60e51b81526004016109b19061491c565b6002600655348160006113ed858383816113a6576113a6614906565b90506020028101906113b89190614940565b6113c6906020810190614a8a565b60008181106113d7576113d7614906565b610a27926020606090920201908101915061411e565b604080516080810182528254815260018301546001600160a01b03908116602083015260028401541691810191909152600382018054919291606084019190611435906147c5565b80601f0160208091040260200160405190810160405280929190818152602001828054611461906147c5565b80156114ae5780601f10611483576101008083540402835291602001916114ae565b820191906000526020600020905b81548152906001019060200180831161149157829003601f168201915b505050505081525050905060005b82811015610cb0576000198301811460008787848181106114df576114df614906565b90506020028101906114f19190614940565b6114fa90614b5c565b602081015180519192509080158061151757508260600151518114155b156115355760405163251f56a160e21b815260040160405180910390fd5b60005b818110156115b8576115b060405180608001604052808660000151815260200185848151811061156a5761156a614906565b6020026020010151815260200186604001516001600160a01b03168152602001866060015184815181106115a0576115a0614906565b6020026020010151815250612adb565b600101611538565b506115d3836000015187600001518486604001518c89612b2b565b6115dd90896149fb565b9750505050506115ed8160010190565b90506114bc565b6006546001146116165760405162461bcd60e51b81526004016109b19061491c565b600260065561162c61162782614c41565b612adb565b604080516001808252818301909252600091816020015b604080516060810182526000808252602080830182905292820152825260001990920191018161164357905050905061168436839003830160208401614ca9565b8160008151811061169757611697614906565b602002602001018190525060006116bd836020016000016020810190610a27919061411e565b604080516080810182528254815260018301546001600160a01b03908116602083015260028401541691810191909152600382018054919291606084019190611705906147c5565b80601f0160208091040260200160405190810160405280929190818152602001828054611731906147c5565b801561177e5780601f106117535761010080835404028352916020019161177e565b820191906000526020600020905b81548152906001019060200180831161176157829003601f168201915b50505091909252505081519192506117ad9185359150846117a560a088016080890161411e565b346001612b2b565b505060016006555050565b60006001600160a01b0382166117e157604051631b68fd9560e21b815260040160405180910390fd5b604080518082019091526001600160a01b0383168152336020820152600061180882612e33565b6000818152600160205260409020549091506001600160a01b0316156118415760405163119b4fd360e11b815260040160405180910390fd5b600081815260016020818152604092839020855181546001600160a01b03199081166001600160a01b0392831617835587840151929094018054909416911617909155905133815282917f6e9a1e8208096d8743830b1db54115683584e42da14bccdc6a0a9fca61278fb1910160405180910390a29392505050565b604080516060808201835260008083526020830152918101919091526118e282612e64565b92915050565b60065460011461190a5760405162461bcd60e51b81526004016109b19061491c565b60026006553460006119378484838161192557611925614906565b90506020028101906113b89190614a47565b604080516080810182528254815260018301546001600160a01b0390811660208301526002840154169181019190915260038201805491929160608401919061197f906147c5565b80601f01602080910402602001604051908101604052809291908181526020018280546119ab906147c5565b80156119f85780601f106119cd576101008083540402835291602001916119f8565b820191906000526020600020905b8154815290600101906020018083116119db57829003601f168201915b5050509190925250919250849150600090505b81811015610cb0576000198201811436878784818110611a2d57611a2d614906565b9050602002810190611a3f9190614a47565b8551909150611ab190823590611a586020850185614a8a565b808060200260200160405190810160405280939291908181526020016000905b82821015611aa457611a9560608302860136819003810190614ca9565b81526020019060010190611a78565b5050505050338a87612b2b565b611abb90876149fb565b95505050611ac98160010190565b9050611a0b565b600654600114611af25760405162461bcd60e51b81526004016109b19061491c565b600260065536611b056020830183614940565b90506000611b19610a196020850185614940565b80546040805160018082528183019092529293509091600091816020015b611b3f613cea565b815260200190600190039081611b375750506040805160018082528183019092529192506000919060208083019080368337019050509050611b85863584873342612ed3565b83600081518110611b9857611b98614906565b6020026020010183600081518110611bb257611bb2614906565b602002602001018281525082905250506000611bd4848484600034600161329b565b50506001600655505050505050565b600080611bf08484612a06565b6002810154909150600160d01b900465ffffffffffff168015801590611c1557504281105b611c32576002820154600160a01b900465ffffffffffff16611c35565b60005b65ffffffffffff16925082600003611c605760405163120a2e7760e01b815260040160405180910390fd5b600382015465ffffffffffff16156109725760028201546040516310f3287f60e31b81526001600160a01b0390911660048201526024016109b1565b6040805160808101825260008082526020820181905291810191909152606080820152611cc88261256d565b604080516080810182528254815260018301546001600160a01b03908116602083015260028401541691810191909152600382018054919291606084019190611d10906147c5565b80601f0160208091040260200160405190810160405280929190818152602001828054611d3c906147c5565b8015611d895780601f10611d5e57610100808354040283529160200191611d89565b820191906000526020600020905b815481529060010190602001808311611d6c57829003601f168201915b5050505050815250509050919050565b600654600114611dbb5760405162461bcd60e51b81526004016109b19061491c565b6002600655611dd1611dcc82614cc5565b61258a565b36611ddf6020830183614940565b90506000611df3610a196020850185614940565b80546040805160018082528183019092529293509091600091816020015b611e19613cea565b815260200190600190039081611e115750506040805160018082528183019092529192506000919060208083019080368337019050509050611b8586358487611e6860608b0160408c0161411e565b42612ed3565b60608282811080611e7d575082155b15611e86578092505b42816001600160401b03811115611e9f57611e9f613d26565b604051908082528060200260200182016040528015611ec8578160200160208202803683370190505b50925060005b82811015611034576000611eee89898985818110610f3557610f35614906565b60028101548651919250600160a01b900465ffffffffffff1690869084908110611f1a57611f1a614906565b6020908102919091010152600381015465ffffffffffff1615611f3d5750611fd0565b6002810154600160d01b900465ffffffffffff1660008115801590611f6157508482105b611f7e576002830154600160a01b900465ffffffffffff16611f81565b60005b65ffffffffffff16905080878581518110611f9e57611f9e614906565b60200260200101818152505080600003611fba57505050611fd0565b8715611fcc57611fc988614a30565b97505b5050505b600101611ece565b611fe0613cea565b611fea8383612a06565b6040805160e0810182528254815260018301546001600160a01b03908116602083015260028401548082169383019390935265ffffffffffff600160a01b840481166060840152600160d01b9093048316608083015260039093015491821660a0820152600160301b90910490911660c08201529392505050565b60006006546001146120895760405162461bcd60e51b81526004016109b19061491c565b60026006556000612099836121ef565b60208101519091506001600160a01b03166120c757604051631b68fd9560e21b815260040160405180910390fd5b61215288888080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505087348d8d8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295949392505061359f9050565b5090925061216690508233838689896128ac565b85826001600160a01b03167f15a8d94fb634b80d8d430ee02530a43e6317511bed9a6e18b2414bb89a0bd0df856040516121a291815260200190565b60405180910390a350600160065598975050505050505050565b6001600160a01b03811660009081526005602052604081205481906121e29060016147b2565b90506106658585836124e6565b60408051808201825260008082526020808301829052835180850185528281528101829052848252600180825291849020845180860190955280546001600160a01b03908116865292015490911690830152906118e2565b60006122516135f6565b905090565b6006546001146122785760405162461bcd60e51b81526004016109b19061491c565b6002600655604080516001808252818301909252600091816020015b60408051606081018252600080825260208083018290529282015282526000199092019101816122945790505090506122d536839003830160208401614ca9565b816000815181106122e8576122e8614906565b6020026020010181905250600061230e836020016000016020810190610a27919061411e565b604080516080810182528254815260018301546001600160a01b03908116602083015260028401541691810191909152600382018054919291606084019190612356906147c5565b80601f0160208091040260200160405190810160405280929190818152602001828054612382906147c5565b80156123cf5780601f106123a4576101008083540402835291602001916123cf565b820191906000526020600020905b8154815290600101906020018083116123b257829003601f168201915b50505050508152505090506117ad836000013582600001518433346001612b2b565b604080517f9773e49bbc47d491fae893cc858ed75be262b2466e1ffcadbf03b047493f195160208201524691810191909152606081018590526001600160a01b038085166080830152831660a082015260c081018290526000906106659060e0015b60405160208183030381529060405280519060200120613721565b600081815260016020819052604090912001546001600160a01b031633146124a957604051634ca8886760e01b815260040160405180910390fd5b50565b6000816040015182602001516040516020016124c9929190614d45565b604051602081830303815290604052805190602001209050919050565b8251602080850151606080870151805190840120604080517fedcf357a2a19e382180b2eae2b58c407a5ac708d128bdc90fc30c3ba005391459581019590955246908501529083018690526001600160a01b03909316608083015265ffffffffffff1660a082015260c081019190915260e081018290526000906109879061010001612453565b6001600160a01b03811660009081526008602052604081206118e2565b602081015160408201516000906125be906001600160a01b0316600090815260056020526040902080546001019081905590565b905060006125d1838560000151846124e6565b905060006125e8856040015183876060015161374e565b90508061260857604051638baa579f60e01b815260040160405180910390fd5b5050505050565b60008061261b89613806565b805490915065ffffffffffff1660000361264857604051635f9bd90760e11b815260040160405180910390fd5b8054600160301b90046001600160a01b031680156126f5578154604051633b579db760e21b8152600160301b9091046001600160a01b03169063ed5e76dc90612697908b908b90600401614da0565b602060405180830381865afa1580156126b4573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906126d89190614e98565b6126f55760405163bd8ba84d60e01b815260040160405180910390fd5b86426000826001600160401b0381111561271157612711613d26565b60405190808252806020026020018201604052801561274a57816020015b612737613cea565b81526020019060019003908161272f5790505b5090506000836001600160401b0381111561276757612767613d26565b604051908082528060200260200182016040528015612790578160200160208202803683370190505b50905060005b84811015612810576127ce8f8f8f8f858181106127b5576127b5614906565b90506020028101906127c79190614940565b8e88612ed3565b8483815181106127e0576127e0614906565b602002602001018484815181106127f9576127f9614906565b602090810291909101019190915252600101612796565b506128208d838360008d8d61329b565b9e9d5050505050505050505050505050565b60006f67363d3d37363d34f03d5260086018f3600052836010806000f5806128625763301164256000526004601cfd5b8060145261d69460005260016034536017601e20915060008085516020870186855af1612897576319b991a86000526004601cfd5b50803b6108b6576319b991a86000526004601cfd5b6001600160a01b0386811660009081526008602052604090206001015416156128f3576040516345ed80e960e01b81526001600160a01b03871660048201526024016109b1565b6001863b15151461291757604051637483e90760e01b815260040160405180910390fd5b60006040518060800160405280858152602001886001600160a01b03168152602001876001600160a01b0316815260200184848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152505050915250855190915061298f9082613819565b6001600160a01b0380881660009081526008602090815260409182902084518155908401516001820180549185166001600160a01b03199283161790559184015160028201805491909416921691909117909155606082015182919060038201906129fa9082614847565b50505050505050505050565b6001600160a01b039182166000908152600760209081526040808320939094168252919091522090565b606060ff8314612a4a57612a43836138c0565b90506118e2565b818054612a56906147c5565b80601f0160208091040260200160405190810160405280929190818152602001828054612a82906147c5565b8015612acf5780601f10612aa457610100808354040283529160200191612acf565b820191906000526020600020905b815481529060010190602001808311612ab257829003601f168201915b505050505090506118e2565b60208101516040820151600090612b0f906001600160a01b0316600090815260056020526040902080546001019081905590565b905060006125d1846000015184600001518560200151856123f1565b600080612b3788613806565b805490915065ffffffffffff16600003612b6457604051635f9bd90760e11b815260040160405180910390fd5b85516000816001600160401b03811115612b8057612b80613d26565b604051908082528060200260200182016040528015612bb957816020015b612ba6613cea565b815260200190600190039081612b9e5790505b5090506000826001600160401b03811115612bd657612bd6613d26565b604051908082528060200260200182016040528015612bff578160200160208202803683370190505b50905060005b83811015612e125760008a8281518110612c2157612c21614906565b60209081029190910181015180516001600160a01b039081166000908152600784526040808220848601518416835290945292909220600381015491935091600160301b90910416612c865760405163c5723b5160e01b815260040160405180910390fd5b80548e14612ca757604051635f9bd90760e11b815260040160405180910390fd5b60028101546001600160a01b038c8116911614612cd757604051634ca8886760e01b815260040160405180910390fd5b600381015465ffffffffffff1615612d025760405163905e710760e01b815260040160405180910390fd5b4260038201805465ffffffffffff191665ffffffffffff928316908117918290556040805160e0810182528554815260018601546001600160a01b039081166020830152600287015480821693830193909352600160a01b830486166060830152600160d01b909204909416608085015260a0840191909152600160301b9091041660c08201528551869085908110612d9d57612d9d614906565b60200260200101819052508160400151848481518110612dbf57612dbf614906565b6020908102919091010152805460018201546040516001600160a01b03808f169216907feee7de70b290c411a060d8bb9b1cba152a40d74147fef0974d7c2b25ac9b718a90600090a45050600101612c05565b50612e228a838360018b8b61329b565b9450505050505b9695505050505050565b805160405160609190911b6001600160601b03191660208201524260348201524660548201526000906074016124c9565b60408051606080820183526000808352602083015291810191909152600082815260208181526040918290208251606081018452815465ffffffffffff81168252600160301b90046001600160a01b0316928101929092526001810180549293919291840191611d10906147c5565b612edb613cea565b600080612eee6040870160208801614eba565b65ffffffffffff1614158015612f23575065ffffffffffff8316612f186040870160208801614eba565b65ffffffffffff1611155b15612f41576040516308e8b93760e01b815260040160405180910390fd5b6000612f50602087018761411e565b90506000612f5d8261256d565b60018101549091506001600160a01b0316612f8b5760405163bd8ba84d60e01b815260040160405180910390fd5b80548814612fac5760405163bd8ba84d60e01b815260040160405180910390fd5b600061300487846040516001600160601b0319606083811b8216602084015284901b16603482015242604882015246606882015260009060880160405160208183030381529060405280519060200120905092915050565b9050600061305461301860608b018b6149b5565b8080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152508692506138ff915050565b90506040518060e001604052808c8152602001856001600160a01b03168152602001896001600160a01b031681526020018865ffffffffffff1681526020018a60200160208101906130a69190614eba565b65ffffffffffff168152602001600065ffffffffffff168152602001826001600160a01b03168152509550886040013594508560076000866001600160a01b03166001600160a01b0316815260200190815260200160002060008a6001600160a01b03166001600160a01b031681526020019081526020016000206000820151816000015560208201518160010160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060408201518160020160006101000a8154816001600160a01b0302191690836001600160a01b0316021790555060608201518160020160146101000a81548165ffffffffffff021916908365ffffffffffff160217905550608082015181600201601a6101000a81548165ffffffffffff021916908365ffffffffffff16021790555060a08201518160030160006101000a81548165ffffffffffff021916908365ffffffffffff16021790555060c08201518160030160066101000a8154816001600160a01b0302191690836001600160a01b03160217905550905050806001600160a01b0316886001600160a01b0316856001600160a01b03167ff68f1df3d74509783e9300e8637b046836c091fd39cdcd33b14b0ffdf6940d628e60405161328591815260200190565b60405180910390a4505050509550959350505050565b845160009060018190036132f3576132eb88886000815181106132c0576132c0614906565b6020026020010151886000815181106132db576132db614906565b602002602001015188888861390b565b915050612e29565b60006132fe896121ef565b80519091506001600160a01b03811661336b5760005b8381101561335e5788818151811061332e5761332e614906565b602002602001015160001461335657604051631574f9f360e01b815260040160405180910390fd5b600101613314565b5060009350505050612e29565b6000805b848110156134565760008a828151811061338b5761338b614906565b60200260200101519050806000141580156134055750836001600160a01b031663ce46e0466040518163ffffffff1660e01b8152600401602060405180830381865afa1580156133df573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906134039190614e98565b155b1561342357604051631574f9f360e01b815260040160405180910390fd5b888111156134445760405163044044a560e21b815260040160405180910390fd5b9788900397919091019060010161336f565b5087156134f257604051635af807df60e01b81526001600160a01b03831690635af807df90839061348d908e908e90600401614ed5565b60206040518083038185885af11580156134ab573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906134d09190614e98565b6134ed5760405163bf2f3a8b60e01b815260040160405180910390fd5b613582565b604051636d4f554960e01b81526001600160a01b03831690636d4f5549908390613522908e908e90600401614ed5565b60206040518083038185885af1158015613540573d6000803e3d6000fd5b50505050506040513d601f19601f820116820180604052508101906135659190614e98565b6135825760405163e8bee83960e01b815260040160405180910390fd5b85156135915761359187613b49565b9a9950505050505050505050565b60008060008087876040516020016135b8929190614efa565b60408051601f198184030181529190528051602082018181209550919250879187f59350833b6135e757600080fd5b833f9150509450945094915050565b6000306001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001614801561364f57507f000000000000000000000000000000000000000000000000000000000000000046145b1561367957507f000000000000000000000000000000000000000000000000000000000000000090565b612251604080517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527f0000000000000000000000000000000000000000000000000000000000000000918101919091527f000000000000000000000000000000000000000000000000000000000000000060608201524660808201523060a082015260009060c00160405160208183030381529060405280519060200120905090565b60006118e261372e6135f6565b8360405161190160f01b8152600281019290925260228201526042902090565b6001600160a01b0390921691600083156108b65760405160418351036137b75783600052606083015160001a60205260208301516040526040830151606052602060016080600060015afa805186183d15176137b5575060006060526040525060016108b6565b505b600060605280604052631626ba7e60e01b808252846004830152602482016040815284516020018060448501828860045afa505060208160443d01858a5afa9051909114169150509392505050565b60008181526020819052604081206118e2565b6001600160a01b03821661382b575050565b604051634394aa9f60e11b81526001600160a01b03831690638729553e90613857908490600401614690565b6020604051808303816000875af1158015613876573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061389a9190614e98565b15156000036138bc57604051637483e90760e01b815260040160405180910390fd5b5050565b606060006138cd83613b59565b604080516020808252818301909252919250600091906020820181803683375050509182525060208101929092525090565b60006108b68383613b81565b600080613917886121ef565b80519091506001600160a01b03811661395457861561394957604051631574f9f360e01b815260040160405180910390fd5b600092505050612e29565b86158015906139c25750806001600160a01b031663ce46e0466040518163ffffffff1660e01b8152600401602060405180830381865afa15801561399c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906139c09190614e98565b155b156139e057604051631574f9f360e01b815260040160405180910390fd5b84871115613a015760405163044044a560e21b815260040160405180910390fd5b86850394508515613a9f5760405163258ad6f560e11b81526001600160a01b03821690634b15adea908990613a3a908c90600401614723565b60206040518083038185885af1158015613a58573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190613a7d9190614e98565b613a9a5760405163ccf3bb2760e01b815260040160405180910390fd5b613b2d565b60405163b8015b0960e01b81526001600160a01b0382169063b8015b09908990613acd908c90600401614723565b60206040518083038185885af1158015613aeb573d6000803e3d6000fd5b50505050506040513d601f19601f82011682018060405250810190613b109190614e98565b613b2d5760405163bd8ba84d60e01b815260040160405180910390fd5b8315613b3c57613b3c85613b49565b5094979650505050505050565b80156124a9576124a93382613bcc565b600060ff8216601f8111156118e257604051632cd44ac360e21b815260040160405180910390fd5b60008251600181018060401b6bfd61000080600a3d393df3001761ffff821186015283600a8201601587016000f592505081613bc55763301164256000526004601cfd5b9092525090565b80471015613c1c5760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a20696e73756666696369656e742062616c616e636500000060448201526064016109b1565b6000826001600160a01b03168260405160006040518083038185875af1925050503d8060008114613c69576040519150601f19603f3d011682016040523d82523d6000602084013e613c6e565b606091505b5050905080613ce55760405162461bcd60e51b815260206004820152603a60248201527f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260448201527f6563697069656e74206d6179206861766520726576657274656400000000000060648201526084016109b1565b505050565b6040805160e081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905260c081019190915290565b634e487b7160e01b600052604160045260246000fd5b604051608081016001600160401b0381118282101715613d5e57613d5e613d26565b60405290565b604051601f8201601f191681016001600160401b0381118282101715613d8c57613d8c613d26565b604052919050565b6001600160a01b03811681146124a957600080fd5b8035613db481613d94565b919050565b600060608284031215613dcb57600080fd5b604051606081018181106001600160401b0382111715613ded57613ded613d26565b6040529050808235613dfe81613d94565b81526020830135613e0e81613d94565b6020820152604092830135920191909152919050565b600080600060a08486031215613e3957600080fd5b613e438585613db9565b9250606084013591506080840135613e5a81613d94565b809150509250925092565b60005b83811015613e80578181015183820152602001613e68565b50506000910152565b60008151808452613ea1816020860160208601613e65565b601f01601f19169290920160200192915050565b6020815260006108b66020830184613e89565b60008060408385031215613edb57600080fd5b823591506020830135613eed81613d94565b809150509250929050565b60008083601f840112613f0a57600080fd5b5081356001600160401b03811115613f2157600080fd5b602083019150836020828501011115613f3957600080fd5b9250929050565b600080600060408486031215613f5557600080fd5b83356001600160401b03811115613f6b57600080fd5b613f7786828701613ef8565b9094509250506020840135613e5a81613d94565b60006001600160401b03821115613fa457613fa4613d26565b5060051b60200190565b60008060408385031215613fc157600080fd5b8235613fcc81613d94565b91506020838101356001600160401b03811115613fe857600080fd5b8401601f81018613613ff957600080fd5b803561400c61400782613f8b565b613d64565b81815260059190911b8201830190838101908883111561402b57600080fd5b928401925b8284101561405257833561404381613d94565b82529284019290840190614030565b80955050505050509250929050565b80518252602081015160018060a01b0380821660208501528060408401511660408501526060830151915065ffffffffffff80831660608601528060808501511660808601528060a08501511660a0860152508060c08401511660c085015250505050565b600081518084526020808501945080840160005b83811015614100576140ed878351614061565b60e09690960195908201906001016140da565b509495945050505050565b6020815260006108b660208301846140c6565b60006020828403121561413057600080fd5b81356108b681613d94565b803565ffffffffffff81168114613db457600080fd5b600082601f83011261416257600080fd5b81356001600160401b0381111561417b5761417b613d26565b61418e601f8201601f1916602001613d64565b8181528460208386010111156141a357600080fd5b816020850160208301376000918101602001919091529392505050565b6000608082840312156141d257600080fd5b6141da613d3c565b905081356141e781613d94565b81526141f56020830161413b565b60208201526040820135604082015260608201356001600160401b0381111561421d57600080fd5b61422984828501614151565b60608301525092915050565b60008060006060848603121561424a57600080fd5b83356001600160401b0381111561426057600080fd5b61426c868287016141c0565b9660208601359650604090950135949350505050565b60008083601f84011261429457600080fd5b5081356001600160401b038111156142ab57600080fd5b6020830191508360208260051b8501011115613f3957600080fd5b600080602083850312156142d957600080fd5b82356001600160401b038111156142ef57600080fd5b6142fb85828601614282565b90969095509350505050565b60008060008060008060008060a0898b03121561432357600080fd5b88356001600160401b038082111561433a57600080fd5b6143468c838d01613ef8565b909a50985060208b013591508082111561435f57600080fd5b61436b8c838d01613ef8565b909850965060408b0135955060608b013591508082111561438b57600080fd5b506143988b828c01613ef8565b999c989b50969995989497949560800135949350505050565b600080600080606085870312156143c757600080fd5b8435935060208501356143d981613d94565b925060408501356001600160401b038111156143f457600080fd5b61440087828801613ef8565b95989497509550505050565b6000806000806060858703121561442257600080fd5b843561442d81613d94565b935060208501356001600160401b0381111561444857600080fd5b61445487828801614282565b9598909750949560400135949350505050565b600081518084526020808501945080840160005b838110156141005781518752958201959082019060010161447b565b6020815260006108b66020830184614467565b600080600080600080608087890312156144c357600080fd5b86356144ce81613d94565b955060208701356001600160401b03808211156144ea57600080fd5b6144f68a838b01613ef8565b9097509550604089013591508082111561450f57600080fd5b5061451c89828a01613ef8565b979a9699509497949695606090950135949350505050565b60ff60f81b8816815260e06020820152600061455360e0830189613e89565b82810360408401526145658189613e89565b606084018890526001600160a01b038716608085015260a0840186905283810360c085015290506135918185614467565b6000602082840312156145a857600080fd5b81356001600160401b038111156145be57600080fd5b820160c081850312156108b657600080fd5b6000602082840312156145e257600080fd5b5035919050565b6020815265ffffffffffff825116602082015260018060a01b036020830151166040820152600060408301516060808401526109876080840182613e89565b60006020828403121561463a57600080fd5b81356001600160401b0381111561465057600080fd5b8201604081850312156108b657600080fd5b6000806040838503121561467557600080fd5b823561468081613d94565b91506020830135613eed81613d94565b60208152815160208201526000602083015160018060a01b0380821660408501528060408601511660608501525050606083015160808084015261098760a0840182613e89565b6000608082840312156146e957600080fd5b50919050565b60006020828403121561470157600080fd5b81356001600160401b0381111561471757600080fd5b610987848285016146d7565b60e081016118e28284614061565b60008060006060848603121561474657600080fd5b83356001600160401b0381111561475c57600080fd5b614768868287016141c0565b935050602084013591506040840135613e5a81613d94565b60006080828403121561479257600080fd5b6108b683836146d7565b634e487b7160e01b600052601160045260246000fd5b808201808211156118e2576118e261479c565b600181811c908216806147d957607f821691505b6020821081036146e957634e487b7160e01b600052602260045260246000fd5b601f821115613ce557600081815260208120601f850160051c810160208610156148205750805b601f850160051c820191505b8181101561483f5782815560010161482c565b505050505050565b81516001600160401b0381111561486057614860613d26565b6148748161486e84546147c5565b846147f9565b602080601f8311600181146148a957600084156148915750858301515b600019600386901b1c1916600185901b17855561483f565b600085815260208120601f198616915b828110156148d8578886015182559484019460019091019084016148b9565b50858210156148f65787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b634e487b7160e01b600052603260045260246000fd5b6020808252600a90820152695245454e5452414e435960b01b604082015260600190565b60008235607e1983360301811261495657600080fd5b9190910192915050565b6000808335601e1984360301811261497757600080fd5b8301803591506001600160401b0382111561499157600080fd5b6020019150600581901b3603821315613f3957600080fd5b60006118e236836141c0565b6000808335601e198436030181126149cc57600080fd5b8301803591506001600160401b038211156149e657600080fd5b602001915036819003821315613f3957600080fd5b818103818111156118e2576118e261479c565b8385823760008482016000815283858237600093019283525090949350505050565b600081614a3f57614a3f61479c565b506000190190565b60008235603e1983360301811261495657600080fd5b8183823760009101908152919050565b600060208284031215614a7f57600080fd5b81516108b681613d94565b6000808335601e19843603018112614aa157600080fd5b8301803591506001600160401b03821115614abb57600080fd5b6020019150606081023603821315613f3957600080fd5b600082601f830112614ae357600080fd5b81356020614af361400783613f8b565b82815260059290921b84018101918181019086841115614b1257600080fd5b8286015b84811015614b515780356001600160401b03811115614b355760008081fd5b614b438986838b0101614151565b845250918301918301614b16565b509695505050505050565b600060808236031215614b6e57600080fd5b614b76613d3c565b823581526020808401356001600160401b0380821115614b9557600080fd5b9085019036601f830112614ba857600080fd5b8135614bb661400782613f8b565b81815260609182028401850191858201919036841115614bd557600080fd5b948601945b83861015614bfb57614bec3687613db9565b83529485019491860191614bda565b8187890152614c0c60408b01613da9565b6040890152808a0135965084871115614c2457600080fd5b614c3036888c01614ad2565b908801525094979650505050505050565b600060c08236031215614c5357600080fd5b614c5b613d3c565b82358152614c6c3660208501613db9565b60208201526080830135614c7f81613d94565b604082015260a08301356001600160401b03811115614c9d57600080fd5b61422936828601614151565b600060608284031215614cbb57600080fd5b6108b68383613db9565b600060808236031215614cd757600080fd5b614cdf613d3c565b8235815260208301356001600160401b0380821115614cfd57600080fd5b614d09368387016141c0565b602084015260408501359150614d1e82613d94565b8160408401526060850135915080821115614d3857600080fd5b5061422936828601614151565b60008351614d57818460208801613e65565b60609390931b6001600160601b0319169190920190815260140192915050565b81835281816020850137506000828201602090810191909152601f909101601f19169091010190565b60208082528181018390526000906040808401600586901b8501820187855b88811015614e8a57878303603f190184528135368b9003607e19018112614de557600080fd5b8a0160808135614df481613d94565b6001600160a01b0316855265ffffffffffff614e11838a0161413b565b16888601528682013587860152606080830135601e19843603018112614e3657600080fd5b9092018881019290356001600160401b03811115614e5357600080fd5b803603841315614e6257600080fd5b8282880152614e748388018286614d77565b978a019796505050928701925050600101614dbf565b509098975050505050505050565b600060208284031215614eaa57600080fd5b815180151581146108b657600080fd5b600060208284031215614ecc57600080fd5b6108b68261413b565b604081526000614ee860408301856140c6565b82810360208401526106658185614467565b60008351614f0c818460208801613e65565b835190830190614f20818360208801613e65565b0194935050505056fea2646970667358221220a03aeb7047b4bd54cdb71b24a6867711cdb7e466a25466647185592be64c760064736f6c63430008130033";
